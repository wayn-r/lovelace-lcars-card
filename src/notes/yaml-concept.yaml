type: custom:lcars-card
title: Advanced Layout Demo
elements:
  # --- Header Group ---
  - group: top-header
    id: left-text # Define text first, as others depend on its size
    type: text
    props:
      text: 'DYNAMIC HEIGHT HEADER'
      fill: '#000000'
      fontFamily: '"Antonio", sans-serif'
      fontSize: 24 # Larger font size
      textTransform: uppercase
      letterSpacing: '1px'
      dominantBaseline: middle
    layout:
      # Position text near top-left, but give space for endcap
      anchorTop: true
      anchorLeft: true
      offsetX: 40 # Enough space for a typical endcap width + padding
      offsetY: 30

  - group: top-header
    id: left-endcap
    type: endcap
    props:
      direction: left
      fill: '#FF9900'
      # NO explicit height - implies matching vertical anchor target
      # Or explicitly: height: 'match-anchor' # Requires JS interpretation
    layout:
      # Anchor vertically centered to the text, horizontally to container left
      anchorTo: left-text
      anchorPoint: centerRight # Align right-center of endcap...
      targetAnchorPoint: centerLeft # ...to left-center of text
      offsetX: -10 # Pull it left from the text anchor
      # Also explicitly anchor to container left edge if needed for base position
      anchorLeft: true
      offsetX: 10 # Final position from container edge

  - group: top-header
    id: right-text
    type: text
    props:
      text: 'AREA RELATIVE'
      fill: '#000000'
      fontFamily: '"Antonio", sans-serif'
      fontSize: 24
      textTransform: uppercase
      letterSpacing: '1px'
      dominantBaseline: middle
      textAnchor: end # Align text right
    layout:
      # Position near top-right, give space for endcap
      anchorTo: left-text # Align vertically with left text
      anchorPoint: centerRight
      targetAnchorPoint: centerRight
      # Use percentage for horizontal positioning from right edge
      anchorRight: true
      offsetX: 40 # Space from right edge for endcap + padding

  - group: top-header
    id: right-endcap
    type: endcap
    props:
      direction: right
      fill: '#FF9900'
      # NO explicit height - match right-text height implicitly
    layout:
      anchorTo: right-text
      anchorPoint: centerLeft # Align left-center of endcap...
      targetAnchorPoint: centerRight # ...to right-center of text
      offsetX: 10 # Push right from text anchor
      # Also explicitly anchor to container right edge
      anchorRight: true
      offsetX: 10 # Final position from container edge

  - group: top-header
    id: header-bar
    type: rectangle
    props:
      fill: '#FF9900'
      # NO explicit height - match text height implicitly
    layout:
      anchorTo: left-endcap # Align vertically with endcap/text
      anchorPoint: centerLeft
      targetAnchorPoint: centerRight # Start right of left endcap
      offsetX: 0 # No gap
      stretchTo: right-endcap # Stretch until right endcap
      stretchAnchorPoint: centerRight
      targetStretchAnchorPoint: centerLeft
      stretchPaddingX: 0 # No gap

  # --- Main Content Area (Percentage Based) ---
  - group: main-content
    id: content-background
    type: rectangle
    props:
      fill: '#111133' # Dark blue
      rx: 5
      ry: 5
    layout:
      # Position below header, using percentage offsets/sizing
      anchorTop: true
      offsetY: '15%' # Start 15% down from the top
      anchorLeft: true
      offsetX: '5%' # Start 5% from the left
      width: '90%' # Take 90% of container width
      height: '75%' # Take 75% of container height

  - group: main-content
    id: content-text
    type: text
    props:
      text: 'This content area uses percentage sizing.'
      fill: '#CCDDFF'
      fontSize: 16
      textAnchor: middle
    layout:
      anchorTo: content-background # Anchor to the background rect
      anchorPoint: topCenter # Align top-center of text...
      targetAnchorPoint: topCenter # ...to top-center of background
      offsetY: 20 # Add some padding from the top edge
